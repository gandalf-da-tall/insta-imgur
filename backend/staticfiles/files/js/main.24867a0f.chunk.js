(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(19),s=a.n(c),r=a(22),i=a(45),o=a(75),l=a(74),j=a(2),d="POST_LIST_REQUEST",u="POST_LIST_FAIL",b="POST_LIST_SUCCESS",p="POST_DETAILS_REQUEST",O="POST_DETAILS_FAIL",h="POST_DETAILS_SUCCESS",m="POST_CREATE_REQUEST",x="POST_CREATE_FAIL",f="POST_CREATE_SUCCESS",v="POST_CREATE_RESET",g="POST_CREATE_COMMENT_REQUEST",y="POST_CREATE_COMMENT_FAIL",S="POST_CREATE_COMMENT_SUCCESS",C="POST_CREATE_COMMENT_RESET",T=Object(i.combineReducers)({postList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0,posts:[]};case b:return{loading:!1,posts:t.payload};case u:return{loading:!1,error:t.payload};default:return e}},postDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:{comments:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(j.a)({loading:!0},e);case h:return{loading:!1,post:t.payload};case O:return{loading:!1,error:t.payload};default:return e}},postCommentCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case S:return{loading:!1,success:!0};case y:return{loading:!1,error:t.payload};case C:return{};default:return e}},postCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case f:return{loading:!1,success:!0,post:t.payload};case x:return{loading:!1,error:t.payload};case v:return{};default:return e}}}),E=[o.a],_=Object(i.createStore)(T,{},Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,E))),N=(a(89),a(90),a(120)),I=a(6),L=a(126),w=a(128),k=a(13),P=a(1);var R=function(){return Object(P.jsx)("header",{children:Object(P.jsx)(L.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(P.jsxs)(N.a,{children:[Object(P.jsx)(L.a.Brand,{as:k.b,to:"/",children:"Insta-Imgur"}),Object(P.jsx)(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(P.jsx)(L.a.Collapse,{id:"basic-navbar-nav",children:Object(P.jsx)(w.a,{className:"ml-auto",children:Object(P.jsxs)(w.a.Link,{as:k.b,to:"/upload",children:[Object(P.jsx)("i",{className:"fas fa-plus-circle"}),"Create Post"]})})})]})})})},A=a(121),F=a(78);var D=function(){return Object(P.jsx)("footer",{children:Object(P.jsx)(N.a,{children:Object(P.jsx)(A.a,{children:Object(P.jsx)(F.a,{className:"text-center py-3",children:"Copyright \xa9 Insta-Imgur"})})})})},U=a(129);a(95);var M=function(e){var t=e.post;return Object(P.jsxs)(U.a,{className:"rounded",children:[Object(P.jsxs)(k.b,{to:"/post/".concat(t._id),className:"link-styles",children:[" ",Object(P.jsx)(U.a.Img,{src:t.image})," "]}),Object(P.jsx)(k.b,{to:"/post/".concat(t._id),className:"link-styles",children:Object(P.jsxs)(U.a.Footer,{className:"footStyles",children:[" ",Object(P.jsx)(U.a.Title,{as:"div",children:Object(P.jsx)("h5",{children:t.title})})]})})]})},B=a(122);var G=function(){return Object(P.jsx)(B.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(P.jsx)("span",{className:"sr-only",children:"Loading..."})})},Q=a(123);var q=function(e){var t=e.variant,a=e.children;return Object(P.jsx)(Q.a,{variant:t,children:a})},H=a(23),J=a.n(H),W=a(32),z=a(46),K=a.n(z),V=function(){return function(){var e=Object(W.a)(J.a.mark((function e(t){var a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d}),e.next=4,K.a.get("/api/posts/");case 4:a=e.sent,n=a.data,t({type:b,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:u,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},X=a(79);a(115);var Y=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.postList})),a=t.error,c=t.loading,s=t.posts;return Object(n.useEffect)((function(){e(V())}),[e]),Object(P.jsxs)("div",{className:"home",children:[Object(P.jsx)("h1",{className:"titleStyles",children:"Latest Posts"}),c?Object(P.jsx)(G,{}):a?Object(P.jsx)(q,{variant:"danger",children:a}):Object(P.jsx)(X.a,{breakpointCols:{default:5,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:s.map((function(e){return Object(P.jsx)("div",{children:Object(P.jsx)(M,{post:e})},e._id)}))})]})},Z=a(7),$=a(124),ee=a(130),te=a(127),ae=a(125);a(116);var ne=function(){var e=Object(I.g)(),t=Object(n.useState)(""),a=Object(Z.a)(t,2),c=a[0],s=a[1],i=Object(r.b)(),o=Object(r.c)((function(e){return e.postDetails})),l=o.loading,j=o.error,d=o.post,u=Object(r.c)((function(e){return e.postCommentCreate})),b=u.loading,m=u.error,x=u.success;return Object(n.useEffect)((function(){var t;x&&(s(""),i({type:C})),i((t=e.id,function(){var e=Object(W.a)(J.a.mark((function e(a){var n,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:p}),e.next=4,K.a.get("/api/posts/".concat(t));case 4:n=e.sent,c=n.data,a({type:h,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:O,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,i,x]),Object(P.jsxs)("div",{children:[Object(P.jsx)(k.b,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),l?Object(P.jsx)(G,{}):j?Object(P.jsx)(q,{variant:"danger",children:j}):Object(P.jsxs)("div",{children:[" ",Object(P.jsxs)(N.a,{children:[Object(P.jsx)(A.a,{children:Object(P.jsxs)(U.a,{className:"pcContainer",children:[Object(P.jsx)(U.a.Header,{className:"titleHeader",children:Object(P.jsx)(U.a.Title,{children:Object(P.jsx)("h3",{children:d.title})})})," "]})}),Object(P.jsxs)(A.a,{className:"pcContainer",children:[Object(P.jsx)(F.a,{md:6,className:"sideA",children:Object(P.jsx)($.a,{src:d.image,alt:d.title,className:"fullSize"})}),Object(P.jsx)(F.a,{md:6,className:"sideB",children:Object(P.jsxs)(U.a,{children:[Object(P.jsx)(U.a.Header,{children:Object(P.jsx)(U.a.Title,{children:Object(P.jsx)("h4",{children:"Comments"})})}),Object(P.jsxs)(U.a.Body,{className:"scroll",children:[0===d.comments.length&&Object(P.jsx)(q,{variant:"info",children:"No Comments "}),Object(P.jsx)(ee.a,{variant:"flush",children:d.comments.map((function(e){return Object(P.jsx)(ee.a.Item,{children:Object(P.jsxs)("div",{className:"commentGroup",children:[Object(P.jsxs)("div",{className:"commentItem",children:[" ",Object(P.jsx)("i",{class:"fas fa-user"})]}),Object(P.jsxs)("div",{className:"commentItem",children:[e.comment," "]})," "]})},e._id)}))})]}),Object(P.jsx)(U.a.Footer,{className:"compFooter",children:Object(P.jsx)(ee.a,{variant:"flush",children:Object(P.jsxs)(ee.a.Item,{children:[Object(P.jsx)("h4",{children:"Write a Comment"}),b&&Object(P.jsx)(G,{}),x&&Object(P.jsx)(q,{variant:"success",children:"Comment Submitted"}),m&&Object(P.jsx)(q,{variant:"danger",children:m}),Object(P.jsxs)(te.a,{onSubmit:function(t){t.preventDefault(),i(function(e,t){return function(){var a=Object(W.a)(J.a.mark((function a(n,c){var s,r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:g}),a.next=4,K.a.post("/api/posts/".concat(e,"/comments/"),t);case 4:s=a.sent,r=s.data,n({type:S,payload:r}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:y,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()}(e.id,{comment:c}))},children:[Object(P.jsxs)(te.a.Group,{controlId:"comment",children:[Object(P.jsx)(te.a.Label,{children:"Comment"}),Object(P.jsx)(te.a.Control,{as:"textarea",row:"5",maxLength:"200",value:c,required:!0,onChange:function(e){return s(e.target.value)},placeholder:"Join the Conversation"})]}),Object(P.jsx)(ae.a,{disable:b,type:"submit",variant:"primary",children:"Submit"})]})]})})})]})})]})]})]})]})};var ce=function(e){var t=e.children;return Object(P.jsx)(N.a,{children:Object(P.jsx)(A.a,{className:"justify-content-md-center",children:Object(P.jsx)(F.a,{xs:12,md:6,children:t})})})};var se=function(){var e=Object(I.f)(),t=Object(r.b)(),a=Object(n.useState)(""),c=Object(Z.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),l=Object(Z.a)(o,2),j=l[0],d=l[1],u=Object(n.useState)(""),b=Object(Z.a)(u,2),p=b[0],O=b[1],h=Object(r.c)((function(e){return e.postCreate})),g=h.loading,y=h.error,S=h.post,C=h.success;Object(n.useEffect)((function(){t({type:v}),C?e("/post/".concat(S._id)):t(V())}),[t,e,C,S]);var T=function(){var e=Object(W.a)(J.a.mark((function e(t){var a,n,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],(n=new FormData).append("image",a),i(n),c=URL.createObjectURL(t.target.files[0]),d(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{children:[Object(P.jsx)(k.b,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),g&&Object(P.jsx)(G,{}),y&&Object(P.jsx)(q,{variant:"danger",children:y}),Object(P.jsxs)(ce,{children:[Object(P.jsx)("h1",{children:"Create Post"}),Object(P.jsxs)(te.a,{onSubmit:function(e){var a;e.preventDefault(),s.append("title",p),t((a=s,function(){var e=Object(W.a)(J.a.mark((function e(t,n){var c,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),e.next=4,K.a.post("/api/upload/",a);case 4:c=e.sent,s=c.data,t({type:f,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:x,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(P.jsxs)(te.a.Group,{controlId:"title",children:[Object(P.jsx)(te.a.Label,{children:"Title"}),Object(P.jsx)(te.a.Control,{type:"title",placeholder:"Enter title",maxLength:"200",value:p,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(P.jsxs)(te.a.Group,{controlId:"image",children:[Object(P.jsx)(te.a.Label,{children:"Image"}),Object(P.jsx)(te.a.Control,{type:"file",id:"image-file",label:"Choose File",custom:!0,onChange:T,required:!0,accept:".jpg,.jpeg,.png,.gif"})]}),Object(P.jsxs)("div",{style:{margin:"20px"},children:[Object(P.jsx)($.a,{src:j,fluid:!0})," "]}),Object(P.jsx)(ae.a,{type:"submit",variant:"primary",children:"Submit"})]})]})]})};function re(){var e=Object(I.e)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}a(117);var ie=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(R,{}),Object(P.jsx)("main",{className:"py-3",children:Object(P.jsxs)(N.a,{fluid:!0,className:"mainContainer",children:[Object(P.jsx)(re,{})," ",Object(P.jsxs)(I.c,{children:[" ",Object(P.jsx)(I.a,{path:"/",element:Object(P.jsx)(Y,{})}),Object(P.jsx)(I.a,{path:"/post/:id",element:Object(P.jsx)(ne,{}),exact:!0}),Object(P.jsx)(I.a,{path:"/upload",element:Object(P.jsx)(se,{}),exact:!0})]})]})}),Object(P.jsx)(D,{})]})},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,131)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};s.a.render(Object(P.jsx)(r.a,{store:_,children:Object(P.jsx)(k.a,{children:Object(P.jsx)(ie,{})})}),document.getElementById("root")),oe()},89:function(e,t,a){},90:function(e,t,a){},95:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.24867a0f.chunk.js.map